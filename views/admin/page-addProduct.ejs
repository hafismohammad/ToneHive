
<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:32:35 GMT -->
<head>
    <meta charset="utf-8">
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="/public/admin-assets/css/main.css" rel="stylesheet" type="text/css" />
  
        
</head>

<body>

<section class="content-main">
    <div class="row">
        <div class="col-9">
            <div class="content-header">
                <h2 class="content-title">Add New Product</h2>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h4>Basic</h4>
                </div>
                <div class="card-body">
                    <form id="editForm"  action="/adminHome/addproduct" method="post" enctype="multipart/form-data" >
                        <div class="mb-4">
                            <label for="product_name" class="form-label">Product Name</label>
                            <input  type="text" name="name"  placeholder="Type here" class="form-control"
                                id="name">
                                <p><span id="error1" style="display: none;" class="mt-15 err text-danger"></span></p>

                        </div>
                        <div class="mb-4">
                            <label class="form-label">Product description</label>
                            <textarea placeholder="Type here" name="description" class="form-control" id="description"
                                rows="4"></textarea>
                                <p><span id="error2" style="display: none;" class="mt-15 err text-danger"></span></p>

                        </div>
                        <div class="mb-4">
                            <label class="form-label" for="product_price">Price</label>
                            <input type="text" placeholder="price" name="price" class="form-control" id="price">
                            <p><span id="error3" style="display: none;" class="mt-15 err text-danger"></span></p>

                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="mb-4">
                                    <label for="product_quantity" class="form-label">Quantity</label>
                                    <input type="text" name="quantity" placeholder="nos" class="form-control"
                                        id="quantity">
                                        <p><span id="error4" style="display: none;" class="mt-15 err text-danger"></span></p>

                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="mb-4">
                                    <label for="product_discount" class="form-label">Discount</label>
                                    <input type="number" name="discount" placeholder="%" class="form-control"
                                        id="discount">
                                        <p><span id="error5" style="display: none;" class="mt-15 err text-danger"></span></p>

                                </div>
                            </div>

                          
                        </div>

                </div>
            </div> <!-- card end// -->
        </div>

        <div class="col-lg-3">
            <div class="card mb-4">
                <!-- <div class="card-header">
                    <h4>Media</h4> 
                </div> -->
                <div class="card-body">
                    <div class="input-upload">
                        <label class="form-label">Image</label>
                        <input id="image" class="form-control" type="file" name="image" multiple>
                        <p><span id="error3" style="display: none;" class="mt-15 err text-danger"></span></p>

                    </div>
                </div>
            </div> <!-- card end// -->

            <div class="card mb-4">
                <div class="card-header">
                    <h4>Select Category</h4>
                </div>
                <div class="card-body">
                    <div class="row gx-2">
                       
                        <div class="col-sm-6 mb-3">
                            <label class="form-label">Sub-category</label>
                            <select class="form-select" style="width: auto;" name="category">
                                <!-- Add this before the loop -->
                              
                                <% for (let i = 0; i < category.length; i++) { %>
                                    <% if (category[i].isList == true) { %>
                                        <option value="<%= category[i]._id %>">
                                            <%= category[i].name %>
                                        </option>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>
                        
                        <div class="mb-4">
                            <label for="product_name" class="form-label">Tags</label>
                            <input type="text" class="form-control">
                        </div>
                    </div> 
            </div> 
            <div>
                <button type="submit" class="btn ms-auto d-block btn-md rounded font-sm hover-up">Add
                    Product</button> <!-- ms-auto d-block to move button to right-->
            </div>
        </div>

        </form>
    </div>
</section> <!-- content-main end// -->

<footer class="main-footer font-xs">
    <div class="row pb-30 pt-15">
        <div class="col-sm-6">
            <script>
            document.write(new Date().getFullYear())
            </script> 
        </div>
       
    </div>
</footer>
</main>
<script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
<script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
<script src="assets/js/vendors/select2.min.js"></script>
<script src="assets/js/vendors/perfect-scrollbar.js"></script>
<script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
<script src="assets/js/vendors/chart.js"></script>
<!-- Main Script -->
<script src="assets/js/main.js" type="text/javascript"></script>
<script src="assets/js/custom-chart.js" type="text/javascript"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:32:57 GMT -->
</html>

<script>
const nameid = document.getElementById("name");
const descriptionid = document.getElementById("description");
const priceid = document.getElementById("price")
const quantityid = document.getElementById("quantity");
const discountid = document.getElementById("discount");


const error1 = document.getElementById("error1")
const error2 = document.getElementById("error2")
const error3 = document.getElementById("error3")
const error4 = document.getElementById("error4")
const error5 = document.getElementById("error5")

const editFormid = document.getElementById("editForm")


function nameVal(e) {
    const nameVal = nameid.value
    if(nameVal.trim() === "")
    {
        error1.style.display = "block";
        error1.innerHTML = "Please enter product name";

        setTimeout(() => {
            error1.style.display = "none";
            error1.innerHTML = "";
        }, 3000);
        return false
    }else if(/^(-?\d+)$/.test(nameVal)){
            error1.style.display = "block";
            error1.innerHTML = "Please enter a product name without numbers"; 
            
            setTimeout(() => {
                error1.style.display = "none";
                error1.innerHTML = "";
            }, 3000);
            return false;
        }else
       {
        error1.style.display = "none";
        error1.innerHTML = "";
      }
    return true
}


function descriptionVal(e) {
    const descVal = descriptionid.value
    if(descVal.trim() === "")
    {
        error2.style.display = "block";
        error2.innerHTML = "Please enter description";

        setTimeout(() => {
            error2.style.display = "none";
            error2.innerHTML = "";
        }, 3000);
        return false
    }else if(/^(-?\d+)$/.test(descVal)){
            error2.style.display = "block";
            error2.innerHTML = "Please enter a description  without numbers"; 
            
            setTimeout(() => {
                error2.style.display = "none";
                error2.innerHTML = "";
            }, 3000);
            return false;
        }else
        {
        error2.style.display = "none";
        error2.innerHTML = "";
        }
    return true
}

function priceVal(e) {
    const priceVal = priceid.value.trim();

    if (priceVal === "") {
        error3.style.display = "block";
        error3.innerHTML = "Please enter price";

        setTimeout(() => {
            error3.style.display = "none";
            error3.innerHTML = "";
        }, 3000);
        return false;
    } else if (!/^\d+$/.test(priceVal)) {
        error3.style.display = "block";
        error3.innerHTML = "Please enter a valid numeric price";

        setTimeout(() => {
            error3.style.display = "none";
            error3.innerHTML = "";
        }, 3000);
        return false;
    } else {
        error3.style.display = "none";
        error3.innerHTML = "";
        return true;
    }
}

function quantityVal(e) {
    const quaVal = quantityid.value.trim();

    if (quaVal === "") {
        error4.style.display = "block";
        error4.innerHTML = "Please enter product quantity";

        setTimeout(() => {
            error4.style.display = "none";
            error4.innerHTML = "";
        }, 3000);
        return false;
    } else if (!/^\d+$/.test(quaVal)) {
        error4.style.display = "block";
        error4.innerHTML = "Please enter a valid numeric quantity";

        setTimeout(() => {
            error4.style.display = "none";
            error4.innerHTML = "";
        }, 3000);
        return false;
    } else {
        error4.style.display = "none";
        error4.innerHTML = "";
        return true;
    }
}


function discountVal(e) {
    const discVal = discountid.value
    if(discVal.trim() === "")
    {
        error5.style.display = "block";
        error5.innerHTML = "Please enter product discount";

        setTimeout(() => {
            error5.style.display = "none";
            error5.innerHTML = "";
        }, 3000);
        return false
    }else
    {
        error5.style.display = "none";
        error5.innerHTML = "";
        return true
    }
}


nameid.addEventListener("blur", nameVal)
descriptionid.addEventListener("blur", descriptionVal)
priceid.addEventListener("blur", priceVal)
discountid.addEventListener("blur", discountVal)
quantityid.addEventListener("blur", quantityVal)


editFormid.addEventListener("submit", function (e) {

        // Run the category validation function and store the result
      const validname=   nameVal();
       const validdescription =  descriptionVal();
       const validprince=   priceVal();
       const validdiscount =  discountVal();
       const valitdquantity  = quantityVal();

        // Check if category validation failed
        if (!validprince || !validname ||!validdescription || !validdiscount || !valitdquantity){
             e.preventDefault(); // Prevent form submission if validation fails
        }
    });

